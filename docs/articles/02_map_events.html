<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="noaastormevents">
<title>Mapping storm events • noaastormevents</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Mapping storm events">
<meta property="og:description" content="noaastormevents">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">noaastormevents</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/noaastormevents.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01_find_events.html">Finding storm events</a>
    <a class="dropdown-item" href="../articles/02_map_events.html">Mapping storm events</a>
    <a class="dropdown-item" href="../articles/03_details.html">Details</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/geanders/noaastormevents/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Mapping storm events</h1>
                        <h4 data-toc-skip class="author">Brooke
Anderson, Ziyu Chen, and Jordan Robinson</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/geanders/noaastormevents/blob/HEAD/vignettes/02_map_events.Rmd" class="external-link"><code>vignettes/02_map_events.Rmd</code></a></small>
      <div class="d-none name"><code>02_map_events.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/geanders/noaastormevents" class="external-link">noaastormevents</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p>With <code>map_events</code>, one of the primary functions in
<code>noaastormevents</code>, users can map information in the dataframe
returned by the <code>find_events</code> function. Things that can be
mapped include:</p>
<ul>
<li>“any events”: Map whether or not a county had any listed events</li>
<li>“number of events”: Map the number of events listed for a
county</li>
<li>“direct deaths”: Map the total count of direct deaths across all
events listed for a county</li>
<li>“direct injuries”: Map the total count of direct injuries across all
events listed for a county</li>
<li>“indirect deaths”: Map the total count of direct deaths across all
events listed for a county</li>
<li>“indirect injuries”: Map the total count of direct injuries across
all events listed for a county</li>
<li>“property damage”: Map the total property damage across all events
listed for a county</li>
<li>“crop damage”: Map the total crop damage across all events listed
for a county</li>
</ul>
<p>While the maps for property and crop damage use a logarithmic scale,
while others use an untransformed scale.</p>
<p>Because the first argument of <code>map_events</code> is a dataframe,
you can also use the pipe operator (<code>%&gt;%</code>, from the
<code>dplyr</code> package) to pipe the results of a call to
<code>find_events</code> directly into <code>map_events</code>, as shown
in the next example.</p>
<p>To create a map of all events within 300 km of the track of Hurricane
Floyd with start dates in a five-day window of the storm’s closest date
to each county, and to map all continental states, you can run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_events</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_events.html">find_events</a></span><span class="op">(</span>storm <span class="op">=</span> <span class="st">"Floyd-1999"</span>, dist_limit <span class="op">=</span> <span class="fl">300</span><span class="op">)</span> </span>
<span><span class="va">floyd_events</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/map_events.html">map_events</a></span><span class="op">(</span>states <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<p><img src="02_map_events_files/figure-html/unnamed-chunk-2-1.png" width="576"></p>
<p>The <code>map_events</code> function includes a <code>states</code>
option, to allow the user to limit the map to a subset of states (only
states in the continental US can be included). This option also allows
the inputs of “east” (the default, maps only states in the eastern half
of the United States) and “all” (maps all states in the continental
US).</p>
<p>If you instead would like to limit the map to states along the East
Coast and plot the number of reported events per county, you could
instead run:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_events</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/map_events.html">map_events</a></span><span class="op">(</span>plot_type <span class="op">=</span> <span class="st">"number of events"</span>,</span>
<span>             states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"florida"</span>, <span class="st">"georgia"</span>, <span class="st">"south carolina"</span>, <span class="st">"north carolina"</span>,</span>
<span>                        <span class="st">"virginia"</span>, <span class="st">"maryland"</span>, <span class="st">"delaware"</span>, <span class="st">"pennsylvania"</span>,</span>
<span>                        <span class="st">"new jersey"</span>, <span class="st">"new york"</span>, <span class="st">"connecticut"</span>, <span class="st">"rhode island"</span>,</span>
<span>                        <span class="st">"massachusetts"</span>, <span class="st">"vermont"</span>, <span class="st">"new hampshire"</span>, <span class="st">"maine"</span>, </span>
<span>                        <span class="st">"west virginia"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="02_map_events_files/figure-html/unnamed-chunk-3-1.png" width="576"></p>
<p>The maps for crop and property damage use a logarithmic scale, which
typically shows differences in these measurements better than an
untransformed scale. For example, here is the call and resulting map to
map crop damage associated with Hurricane Floyd in North Carolina,
Virginia, and Maryland:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_events</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>   </span>
<span>  <span class="fu"><a href="../reference/map_events.html">map_events</a></span><span class="op">(</span>plot_type <span class="op">=</span> <span class="st">"crop damage"</span>,</span>
<span>             states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"north carolina"</span>, <span class="st">"virginia"</span>, <span class="st">"maryland"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="02_map_events_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
<p>Property damage can be mapped in a similar way:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_events</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/map_events.html">map_events</a></span><span class="op">(</span>plot_type <span class="op">=</span> <span class="st">"property damage"</span>,</span>
<span>             states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"florida"</span>, <span class="st">"georgia"</span>, <span class="st">"south carolina"</span>, <span class="st">"north carolina"</span>,</span>
<span>                        <span class="st">"virginia"</span>, <span class="st">"maryland"</span>, <span class="st">"delaware"</span>, <span class="st">"pennsylvania"</span>,</span>
<span>                        <span class="st">"new jersey"</span>, <span class="st">"new york"</span>, <span class="st">"connecticut"</span>, <span class="st">"rhode island"</span>,</span>
<span>                        <span class="st">"massachusetts"</span>, <span class="st">"vermont"</span>, <span class="st">"new hampshire"</span>, <span class="st">"maine"</span>, </span>
<span>                        <span class="st">"west virginia"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="02_map_events_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
<p>The track of a tropical storm can be added to a map by specifying the
name of the storm with the <code>storm</code> argument and setting
<code>add_tracks</code> to <code>TRUE</code>. For example, the track of
Hurricane Floyd can be added to a map of crop damage in North Carolina,
Virginia, and Maryland from the example dataframe with the call:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_events</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>   </span>
<span>  <span class="fu"><a href="../reference/map_events.html">map_events</a></span><span class="op">(</span>plot_type <span class="op">=</span> <span class="st">"crop damage"</span>,</span>
<span>             states <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"north carolina"</span>, <span class="st">"virginia"</span>, <span class="st">"maryland"</span><span class="op">)</span>,</span>
<span>             storm <span class="op">=</span> <span class="st">"Floyd-1999"</span>, add_tracks <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="02_map_events_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
<p>It is important to note that this function is meant to provide
reasonable defaults for many maps a user might want to create with this
data, but in some cases might not provide the exact map a user would
like to create. In that case, we recommend the user try the
<code>choroplethr</code> package, which can be used to map US county
data as long as the data includes county FIPS codes, as the dataframes
returned by <code>find_events</code> do.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Brooke Anderson, Ziyu Chen, Therese Kondash, Jordan Robinson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
